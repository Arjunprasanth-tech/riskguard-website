<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RISK GUARD CONSULTANTS- Your Trusted Insurance Experts</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- NEW: Load Three.js for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Configure Tailwind for Inter font and new DARK theme colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // NEW DARK MODE COLORS
                        'primary-dark': '#E0E0E0',      // Light gray for main text
                        'primary-light': '#121212',     // Deep black for contrast elements
                        'secondary-gray': '#888888',    // Lighter gray for subtle text
                        'bg-light-gray': '#1A1A1A',     // Slightly lighter off-black
                        'bg-dark-gray': '#101010',      // Very dark gray for depth
                        'cta-blue': '#0070F3',          // Vibrant accent color
                        'cta-gold': '#FFAC00',          // Rich Amber/Gold color for accents
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for professional polish - Inverted for Black Classy Touch */
        html {
            scroll-behavior: smooth; /* Enables smooth scrolling for anchor links */
        }
        body {
            font-family: 'Inter', sans-serif;
            color: var(--primary-dark);
            background-color: #000000; /* PURE BLACK base for the body viewport */
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        
        /* PREVENT SCROLL WHEN MOBILE MENU IS OPEN */
        .no-scroll {
            overflow: hidden;
        }

        /* NEW: 3D CANVAS BACKGROUND */
        #interactive-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh; /* Use vh to ensure it covers the viewport height */
            z-index: -10;
            display: block;
        }

        /* NEW: TEXT SHADOW FOR HERO SECTION FOR BETTER READABILITY */
        .hero-text-shadow {
            text-shadow: 0 2px 15px rgba(0, 0, 0, 0.8), 0 0 5px rgba(0, 0, 0, 0.5);
        }

        /* GLASS BAR EFFECT (Curvy Apple Style) */
        .glass-bar {
            background-color: rgba(18, 18, 18, 0.8);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(224, 224, 224, 0.15);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        }
        
        /* NAVBAR SCROLL ANIMATION CSS */
        header {
            transition: transform 0.3s ease-in-out;
        }
        .nav-hidden {
            transform: translateY(-150%);
        }

        /* SCROLL REVEAL ANIMATION CSS */
        .scroll-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            transition-delay: var(--animation-delay, 0s);
        }
        .scroll-animate.animated {
            opacity: 1;
            transform: translateY(0);
        }
        .scroll-animate:not(.animated) {
            transition: opacity 0.4s ease-in, transform 0.4s ease-in; 
        }
        
        /* Apply Golden Hover effect to the entire box */
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1); 
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        .hover-lift:hover {
            transform: translateY(-5px);
            border-color: var(--cta-gold);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 0 25px rgba(255, 172, 0, 0.4); 
        }

        /* ICON STYLING inside the box */
        .service-icon-base {
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 1px rgba(224, 224, 224, 0.2)); 
            stroke-width: 1.5;
        }
        .hover-lift:hover .service-icon-base {
            filter: drop-shadow(0 0 5px rgba(255, 172, 0, 0.9)); 
            stroke-width: 2; 
        }
        
        /* FAQ STYLES */
        .faq-icon { transition: transform 0.3s ease; }
        .faq-item[aria-expanded="true"] .faq-icon-plus { transform: rotate(45deg); }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out;
            padding-top: 0;
            padding-bottom: 0;
        }
        .faq-item[aria-expanded="true"] .faq-answer {
            max-height: 200px; /* Adjust as needed */
            transition: max-height 0.5s ease-in, padding 0.5s ease-in;
            padding-bottom: 1rem;
        }
        @media (min-width: 768px) {
             .faq-item[aria-expanded="true"] .faq-answer { padding-bottom: 1.25rem; }
        }

        /* SPINNER FOR LOADING STATE */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid var(--cta-gold);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased min-h-screen">

    <!-- NEW: Interactive 3D Canvas Background -->
    <canvas id="interactive-background"></canvas>
    
    <!-- Navbar (Curvy Glassmorph Header) -->
    <header class="sticky top-0 z-20 p-4">
        <div class="max-w-6xl mx-auto px-5 sm:px-10 h-16 flex items-center justify-between glass-bar rounded-3xl">
            <a href="#" class="flex items-center space-x-2 text-primary-dark font-extrabold text-xl">
                <img src="lg.png" alt="Risk Guard Logo: Shield in Hand" class="h-8 w-8" onerror="this.onerror=null; this.src='https://placehold.co/32x32/121212/E0E0E0?text=RG';">
                <span>RISK GUARD</span>
            </a>
            <nav class="hidden md:flex space-x-8 text-sm font-medium text-secondary-gray">
                <a href="#about" class="hover:text-primary-dark transition duration-150">About</a>
                <a href="#services" class="hover:text-primary-dark transition duration-150">Services</a>
                <a href="#contact" class="hover:text-primary-dark transition duration-150">Contact</a>
            </nav>
            <div class="hidden md:block">
                <a href="#contact-links" class="bg-cta-blue text-primary-dark text-sm font-semibold px-4 py-2 rounded-full hover:bg-blue-600 transition duration-150">Contact Us</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden text-primary-dark" aria-label="Open navigation menu">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
        </div>
    </header>

    <!-- Mobile Navigation Menu (Initially Hidden) -->
    <div id="mobile-menu" class="fixed inset-0 bg-black bg-opacity-90 backdrop-blur-lg z-50 flex-col items-center justify-center space-y-8 text-2xl font-bold hidden">
        <button id="mobile-close-button" class="absolute top-7 right-7 text-primary-dark" aria-label="Close navigation menu">
             <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
        <a href="#about" class="mobile-nav-link text-primary-dark hover:text-cta-gold transition-colors">About</a>
        <a href="#services" class="mobile-nav-link text-primary-dark hover:text-cta-gold transition-colors">Services</a>
        <a href="#contact-links" class="mobile-nav-link text-primary-dark hover:text-cta-gold transition-colors">Contact</a>
    </div>

    <main class="relative z-1">
        <!-- Hero Section -->
        <section class="py-24 md:py-32 text-center max-w-6xl mx-auto px-5 sm:px-10">
            <div class="max-w-3xl mx-auto">
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight tracking-tighter scroll-animate hero-text-shadow" style="--animation-delay: 0s;">
                    <span class="text-primary-dark">RISK GUARD CONSULTANTS</span>
                </h1>
                <h2 class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight tracking-tighter mt-2 text-secondary-gray scroll-animate hero-text-shadow" style="--animation-delay: 0.1s;">
                    Your trusted insurance experts.
                </h2>
            </div>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4 mt-10 scroll-animate" style="--animation-delay: 0.2s;">
                <a href="#contact-links" class="bg-cta-blue text-primary-dark font-semibold px-8 py-3 rounded-full hover:bg-blue-600 transition duration-150 shadow-md">Get a Quote</a>
                <a href="#contact-links" class="bg-bg-light-gray text-primary-dark font-semibold px-8 py-3 rounded-full hover:bg-gray-700 transition duration-150 shadow-md">Contact Us</a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 md:py-20 max-w-6xl mx-auto px-5 sm:px-10">
            <div class="flex flex-col md:flex-row justify-between gap-10">
                <div class="flex-shrink-0 md:w-1/3">
                    <div class="flex flex-col space-y-2 mb-8 scroll-animate" style="--animation-delay: 0s;">
                        <h1 class="text-2xl font-bold text-primary-dark">RISK GUARD CONSULTANTS</h1>
                        <h1 class="text-2xl font-bold text-secondary-gray">Experts</h1>
                    </div>
                    <p class="text-xs font-semibold text-secondary-gray uppercase tracking-wider mb-2 scroll-animate" style="--animation-delay: 0.1s;">About Our Company</p>
                    <p class="text-lg text-gray-400 leading-relaxed max-w-sm mb-6 scroll-animate" style="--animation-delay: 0.2s;">At RISK GUARD CONSULTANTS, our mission is to provide reliable, comprehensive insurance solutions tailored to your needs. With deep industry experience, we are dedicated to ensuring your assets and loved ones are protected.</p>
                    <p class="text-lg text-gray-400 leading-relaxed max-w-sm mb-8 scroll-animate" style="--animation-delay: 0.3s;">Our team of experts offers personalized guidance and support, making insurance simple and effective. We believe trust, transparency, and customer satisfaction are the pillars of our service.</p>
                    <a href="#services" class="bg-cta-blue text-primary-dark text-sm font-semibold px-6 py-2 rounded-full inline-block hover:bg-blue-600 transition duration-150 scroll-animate" style="--animation-delay: 0.4s;">Learn More</a>
                </div>
                <div class="md:w-2/3">
                    <p class="text-xs font-semibold text-secondary-gray uppercase tracking-wider mb-6 scroll-animate" style="--animation-delay: 0.5s;">Our Insurance Partners</p>
                    <div class="flex flex-wrap gap-x-12 gap-y-8 items-center">
                        <div onclick="explainPartner('Care Health Insurance', this)" class="partner-item flex items-center space-x-3 scroll-animate cursor-pointer" style="--animation-delay: 0.6s;"><div class="w-4 h-4 bg-secondary-gray rounded-sm"></div><span class="text-xl font-semibold text-secondary-gray hover:text-cta-gold transition duration-150">Care Health Insurance</span></div>
                        <div onclick="explainPartner('United India Insurance Company Limited', this)" class="partner-item flex items-center space-x-3 scroll-animate cursor-pointer" style="--animation-delay: 0.7s;"><div class="w-4 h-4 bg-secondary-gray rounded-full"></div><span class="text-xl font-semibold text-secondary-gray hover:text-cta-gold transition duration-150">United India Insurance</span></div>
                        <div onclick="explainPartner('Shriram Finance', this)" class="partner-item flex items-center space-x-3 scroll-animate cursor-pointer" style="--animation-delay: 0.8s;"><svg class="w-5 h-4 text-secondary-gray" viewBox="0 0 19 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M9.07 0.724C9.264 0.398 9.736 0.398 9.93 0.724L18.552 15.245C18.749 15.578 18.509 16 18.122 16H0.878C0.491 16 0.251 15.578 0.448 15.245L9.07 0.724Z"/></svg><span class="text-xl font-semibold text-secondary-gray hover:text-cta-gold transition duration-150">Shriram Finance</span></div>
                        <div onclick="explainPartner('Aditya Birla Capital', this)" class="partner-item flex items-center space-x-3 scroll-animate cursor-pointer" style="--animation-delay: 0.9s;"><div class="w-4 h-4 bg-secondary-gray rounded-full"></div><span class="text-xl font-semibold text-secondary-gray hover:text-cta-gold transition duration-150">Aditya Birla Capital</span></div>
                        <div onclick="explainPartner('Bajaj Allianz', this)" class="partner-item flex items-center space-x-3 scroll-animate cursor-pointer" style="--animation-delay: 1.0s;"><div class="w-4 h-4 bg-secondary-gray rounded-sm"></div><span class="text-xl font-semibold text-secondary-gray hover:text-cta-gold transition duration-150">Bajaj Allianz</span></div>
                    </div>
                    <div id="partner-description-container" class="mt-8 pt-6 border-t border-gray-700 scroll-animate" style="--animation-delay: 1.1s;">
                        <div id="partner-loading-area" class="flex items-center justify-start space-x-3 text-secondary-gray mb-2 hidden"><div id="partner-spinner" class="spinner !w-4 !h-4 !border-2"></div><span class="text-sm">Consulting the expert...</span></div>
                        <div id="partner-description-output" class="p-4 bg-bg-dark-gray rounded-lg border border-gray-800 text-sm text-secondary-gray min-h-[80px] flex items-center justify-start">Click on any partner name above for a detailed description of their offerings.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-16 md:py-24">
            <div class="max-w-6xl mx-auto px-5 sm:px-10 space-y-16 md:space-y-24">
                <div class="flex flex-col-reverse md:flex-row gap-10 md:gap-16 items-center">
                    <div class="md:w-1/2 space-y-4 lg:pr-12">
                        <h3 class="text-3xl font-bold text-primary-dark leading-snug scroll-animate" style="--animation-delay: 0s;">Comprehensive coverage for individuals.</h3>
                        <p class="text-xl text-secondary-gray leading-relaxed lg:max-w-lg scroll-animate" style="--animation-delay: 0.1s;">From health insurance to life and property protection, our solutions are crafted for your security.</p>
                    </div>
                    <div class="md:w-1/2 bg-bg-dark-gray aspect-square rounded-xl flex flex-col items-center justify-center shadow-2xl hover-lift scroll-animate" style="--animation-delay: 0.2s;"><svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="text-primary-dark opacity-75 service-icon-base"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path><path d="m9 12 2 2 4-4"></path></svg></div>
                </div>
                <div class="flex flex-col md:flex-row gap-10 md:gap-16 items-center">
                    <div class="md:w-1/2 bg-bg-dark-gray aspect-square rounded-xl flex flex-col items-center justify-center shadow-2xl hover-lift order-1 md:order-none scroll-animate" style="--animation-delay: 0s;"><svg xmlns="http://www.w3.org/2000/svg" width="102" height="102" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="text-primary-dark opacity-75 service-icon-base"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg></div>
                    <div class="md:w-1/2 space-y-4 order-2 md:order-none lg:pl-12">
                        <h3 class="text-3xl font-bold text-primary-dark leading-snug scroll-animate" style="--animation-delay: 0.1s;">Business insurance made simple.</h3>
                        <p class="text-xl text-secondary-gray leading-relaxed lg:max-w-lg scroll-animate" style="--animation-delay: 0.2s;">Safeguard your business with our commercial packages: liability, property, and more.</p>
                    </div>
                </div>
                <div class="flex flex-col-reverse md:flex-row gap-10 md:gap-16 items-center">
                    <div class="md:w-1/2 space-y-4 lg:pr-12">
                        <h3 class="text-3xl font-bold text-primary-dark leading-snug scroll-animate" style="--animation-delay: 0s;">Specialized insurance expertise.</h3>
                        <p class="text-xl text-secondary-gray leading-relaxed lg:max-w-lg scroll-animate" style="--animation-delay: 0.1s;">We offer tailored insurance for vehicles, travel, and unique personal needs.</p>
                    </div>
                    <div class="md:w-1/2 bg-bg-dark-gray aspect-square rounded-xl flex flex-col items-center justify-center shadow-2xl hover-lift scroll-animate" style="--animation-delay: 0.2s;"><svg xmlns="http://www.w3.org/2000/svg" width="114" height="96" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="text-primary-dark opacity-75 service-icon-base"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg></div>
                </div>
            </div>
        </section>
        
        <!-- GEMINI-POWERED Policy Term Explainer -->
        <section id="llm-explainer" class="py-16 md:py-24 border-t border-gray-800">
            <div class="max-w-3xl mx-auto px-5 sm:px-10">
                <h2 class="text-3xl sm:text-4xl font-extrabold text-center mb-4 text-primary-dark scroll-animate" style="--animation-delay: 0s;">✨ Policy Term Explainer</h2>
                <p class="text-lg text-secondary-gray text-center mb-10 scroll-animate" style="--animation-delay: 0.1s;">Confused by insurance jargon? Get instant, simple explanations from our AI consultant.</p>
                <div class="bg-bg-light-gray rounded-xl p-6 md:p-8 shadow-xl border border-gray-700 space-y-6 scroll-animate" style="--animation-delay: 0.2s;">
                    <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
                        <input type="text" id="term-input" placeholder="Enter a term (e.g., 'Deductible')" class="flex-grow h-12 px-4 bg-bg-dark-gray border border-gray-700 focus:border-cta-gold focus:outline-none rounded-lg text-primary-dark placeholder-secondary-gray transition duration-200">
                        <button id="explain-button" onclick="explainTerm()" class="bg-cta-gold text-bg-dark-gray font-semibold h-12 px-6 rounded-lg hover:bg-yellow-500 transition duration-150 shadow-lg flex items-center justify-center space-x-2">
                            <span id="button-text">✨ Explain Term</span>
                            <div id="loading-spinner" class="spinner"></div>
                        </button>
                    </div>
                    <div id="explanation-output" class="min-h-[80px] p-4 bg-bg-dark-gray rounded-lg border border-gray-800 text-sm text-secondary-gray flex items-center justify-center text-center">Your explanation will appear here.</div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="py-16 md:py-24 max-w-3xl mx-auto px-5 sm:px-10">
            <h2 class="text-3xl sm:text-4xl font-extrabold text-center mb-12 text-primary-dark scroll-animate" style="--animation-delay: 0s;">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="faq-item bg-bg-light-gray rounded-xl overflow-hidden shadow-xl border border-gray-700 scroll-animate" style="--animation-delay: 0.1s;">
                    <button class="flex justify-between items-center w-full p-4 md:p-5 text-left font-semibold text-base transition-colors duration-200 hover:bg-gray-800" aria-expanded="false" data-faq-toggle>
                        <span class="text-primary-dark">What types of insurance do you offer?</span>
                        <div class="faq-icon-plus faq-icon text-secondary-gray"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></div>
                    </button>
                    <div class="faq-answer text-base text-secondary-gray px-4 md:px-5"><p>We provide a wide range of insurance products including health, life, property, auto, business, and travel insurance.</p></div>
                </div>
                <div class="faq-item bg-bg-light-gray rounded-xl overflow-hidden shadow-xl border border-gray-700 scroll-animate" style="--animation-delay: 0.2s;">
                    <button class="flex justify-between items-center w-full p-4 md:p-5 text-left font-semibold text-base transition-colors duration-200 hover:bg-gray-800" aria-expanded="false" data-faq-toggle>
                        <span class="text-primary-dark">How do I request a quote?</span>
                        <div class="faq-icon-plus faq-icon text-secondary-gray"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></div>
                    </button>
                    <div class="faq-answer text-base text-secondary-gray px-4 md:px-5"><p>You can request a free personalized quote by clicking the 'Get a Quote' button or by contacting our dedicated team directly via WhatsApp, phone, or email.</p></div>
                </div>
                <div class="faq-item bg-bg-light-gray rounded-xl overflow-hidden shadow-xl border border-gray-700 scroll-animate" style="--animation-delay: 0.3s;">
                    <button class="flex justify-between items-center w-full p-4 md:p-5 text-left font-semibold text-base transition-colors duration-200 hover:bg-gray-800" aria-expanded="false" data-faq-toggle>
                        <span class="text-primary-dark">Why choose RISK GUARD CONSULTANTS?</span>
                        <div class="faq-icon-plus faq-icon text-secondary-gray"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></div>
                    </button>
                    <div class="faq-answer text-base text-secondary-gray px-4 md:px-5"><p>We are dedicated to transparent advice, personalized service, and customized insurance solutions for every client, backed by years of industry expertise and a commitment to your financial peace of mind.</p></div>
                </div>
            </div>
        </section>

        <!-- Contact Links Section -->
        <section id="contact-links" class="py-16 md:py-24 border-t border-gray-800">
            <div class="max-w-6xl mx-auto px-5 sm:px-10 flex flex-col items-center">
                <div class="text-center max-w-xl">
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-primary-dark leading-tight scroll-animate" style="--animation-delay: 0s;">Connect Instantly.</h2>
                    <h2 class="text-3xl sm:text-4xl font-extrabold text-secondary-gray leading-tight mt-2 scroll-animate" style="--animation-delay: 0.1s;">Get Answers Now.</h2>
                </div>
                <div class="mt-8 w-full max-w-sm flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 scroll-animate" style="--animation-delay: 0.2s;">
                    <a href="https://wa.me/918129188989?text=Hello%20Reshmi%2C%20I%20saw%20your%20website%20and%20I%27m%20interested%20in%20a%20quote." target="_blank" class="flex-1 bg-green-600 text-primary-dark font-semibold h-12 px-6 rounded-xl hover:bg-green-700 transition duration-150 shadow-lg flex items-center justify-center space-x-3" aria-label="Chat with us on WhatsApp">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                        <span>WhatsApp Me</span>
                    </a>
                    <a href="https://www.facebook.com/profile.php?id=100091490231252" target="_blank" class="flex-1 bg-blue-700 text-primary-dark font-semibold h-12 px-6 rounded-xl hover:bg-blue-800 transition duration-150 shadow-lg flex items-center justify-center space-x-3" aria-label="Find us on Facebook">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                        <span>Facebook</span>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer id="contact" class="border-t border-gray-800 py-20">
        <div class="max-w-6xl mx-auto px-5 sm:px-10 flex flex-col md:flex-row justify-between gap-12">
            <div class="flex-shrink-0 scroll-animate" style="--animation-delay: 0s;">
                <a href="#" class="flex items-center space-x-2 text-primary-dark font-extrabold text-xl mb-4">
                    <img src="lg.png" alt="Risk Guard Logo: Shield in Hand" class="h-8 w-8" onerror="this.onerror=null; this.src='https://placehold.co/32x32/121212/E0E0E0?text=RG';">
                    <span>RISK GUARD</span>
                </a>
                <p class="text-sm text-secondary-gray max-w-xs mt-2">Dedicated to protecting what matters most with trusted, transparent, and tailored insurance solutions.</p>
            </div>
            <div class="flex flex-col space-y-3 scroll-animate" style="--animation-delay: 0.1s;">
                <h4 class="text-base font-semibold text-primary-dark mb-2">Company</h4>
                <a href="#about" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">About Us</a>
                <a href="#" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Team</a>
                <a href="#" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Careers</a>
            </div>
            <div class="flex flex-col space-y-3 scroll-animate" style="--animation-delay: 0.2s;">
                <h4 class="text-base font-semibold text-primary-dark mb-2">Insurance</h4>
                <a href="#services" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Health</a>
                <a href="#services" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Business</a>
                <a href="#services" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Specialized</a>
                <a href="#contact-links" class="text-sm text-secondary-gray hover:text-primary-dark transition duration-150">Contact</a>
            </div>
            <div class="flex flex-col space-y-3 scroll-animate" style="--animation-delay: 0.3s;">
                <h4 class="text-base font-semibold text-primary-dark mb-2">Your Advisor</h4>
                <p class="text-sm text-primary-dark font-bold">Reshmi M V</p>
                <a href="tel:8129188989" class="text-sm text-secondary-gray hover:text-cta-blue transition duration-150">Phone 1: 8129188989</a>
                <a href="tel:9846473383" class="text-sm text-secondary-gray hover:text-cta-blue transition duration-150">Phone 2: 9846473383</a>
                <a href="mailto:prasanthhutch@gmail.com" class="text-sm text-secondary-gray hover:text-cta-blue transition duration-150">Email: prasanthhutch@gmail.com</a>
            </div>
            <div class="flex-grow"></div>
            <div class="flex flex-col space-y-1 text-left md:text-right scroll-animate" style="--animation-delay: 0.4s;">
                <p class="text-sm text-secondary-gray font-bold">Office Address:</p>
                <p class="text-sm text-secondary-gray">RV junction Pala, Kottayam-686575</p>
                <p class="text-sm text-secondary-gray mt-4">© 2022-2025</p>
                <p class="text-sm text-secondary-gray">All Rights Reserved. Authorized IRDAI Agent.</p>
            </div>
        </div>
    </footer>

    <script type="module">
        // --- GLOBAL STATE ---
        // IMPORTANT: The API key has been REMOVED. This script now calls a secure backend endpoint.
        // You MUST create this endpoint for the AI features to work.
        const secureApiEndpoint = '/api/generate'; // Example: '/api/generate' or a full URL to your serverless function

        // --- DOM CONTENT LOADED ---
        document.addEventListener('DOMContentLoaded', () => {
            initializeFaqAccordion();
            initializeMobileMenu();
            initializeNavbarScroll();
            initializeScrollAnimations();
            initializeInteractiveBackground(); // NEW: Initialize the 3D globe background
            console.log("Website initialized.");
        });
        
        // --- GEMINI API INTEGRATION LOGIC (via Secure Backend) ---

        // Generic function to fetch response from the SECURE backend endpoint
        async function fetchSecureGeminiResponse(query, customPrompt) {
            const payload = {
                userQuery: query,
                systemPrompt: customPrompt || "You are a friendly, expert insurance consultant. Explain the provided term clearly in a single paragraph (max 4 sentences), focusing on what it means and why it matters to the client."
            };

            for (let i = 0; i < 3; i++) { // Max 3 retries with exponential backoff
                try {
                    const response = await fetch(secureApiEndpoint, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        const result = await response.json();
                        return result.text || "Sorry, I couldn't generate an explanation. Please try again.";
                    } else if (response.status === 429 && i < 2) {
                        const delay = Math.pow(2, i) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    } else {
                        console.error(`API request failed with status ${response.status}`);
                        return `Error: Could not connect to the AI service. Please check your backend setup.`;
                    }
                } catch (error) {
                    console.error("Network error:", error);
                     if (i < 2) {
                        const delay = Math.pow(2, i) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue;
                    }
                    return `Error: A network error occurred while contacting the AI service.`;
                }
            }
             return "An unexpected error occurred after several retries.";
        }
        
        // Function to explain insurance terms
        window.explainTerm = async function() {
            const termInput = document.getElementById('term-input');
            const outputDiv = document.getElementById('explanation-output');
            const explainButton = document.getElementById('explain-button');
            const buttonText = document.getElementById('button-text');
            const spinner = document.getElementById('loading-spinner');
            const term = termInput.value.trim();

            if (term.length < 3) {
                outputDiv.innerHTML = '<p class="text-center">Please enter a valid insurance term.</p>';
                return;
            }

            buttonText.textContent = '';
            spinner.style.display = 'block';
            explainButton.disabled = true;
            outputDiv.innerHTML = '<p class="text-center">Thinking like an expert consultant...</p>';
            
            const query = `Explain the insurance term: "${term}"`;
            const explanation = await fetchSecureGeminiResponse(query);
            
            buttonText.textContent = '✨ Explain Term';
            spinner.style.display = 'none';
            explainButton.disabled = false;
            outputDiv.innerHTML = explanation;
        };

        // Function to explain partner companies
        window.explainPartner = async function(partnerName, element) {
            const outputDiv = document.getElementById('partner-description-output');
            const loadingArea = document.getElementById('partner-loading-area');
            
            document.querySelectorAll('.partner-item span').forEach(span => span.classList.replace('text-cta-gold', 'text-secondary-gray'));
            element.querySelector('span').classList.replace('text-secondary-gray', 'text-cta-gold');

            loadingArea.classList.remove('hidden');
            outputDiv.innerHTML = `<p>Fetching details for ${partnerName}...</p>`;
            
            const companyPrompt = `You are a financial analyst. Provide a concise description (max 4 sentences) of the insurance company "${partnerName}". Focus on their primary domain (health, life, general) and key offerings.`;
            const query = `Describe the insurance partner: ${partnerName}`;
            
            const description = await fetchSecureGeminiResponse(query, companyPrompt);
            
            loadingArea.classList.add('hidden');
            outputDiv.innerHTML = `<strong>${partnerName}</strong>: ${description}`;
        };

        // --- GENERAL UI & ANIMATION LOGIC ---
        
        // 1. MOBILE MENU
        function initializeMobileMenu() {
            const menuButton = document.getElementById('mobile-menu-button');
            const closeButton = document.getElementById('mobile-close-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const navLinks = mobileMenu.querySelectorAll('.mobile-nav-link');

            const toggleMenu = (open) => {
                if (open) {
                    mobileMenu.classList.remove('hidden');
                    mobileMenu.classList.add('flex');
                    document.body.classList.add('no-scroll');
                } else {
                    mobileMenu.classList.add('hidden');
                    mobileMenu.classList.remove('flex');
                    document.body.classList.remove('no-scroll');
                }
            };

            menuButton.addEventListener('click', () => toggleMenu(true));
            closeButton.addEventListener('click', () => toggleMenu(false));
            navLinks.forEach(link => {
                link.addEventListener('click', () => toggleMenu(false));
            });
        }

        // 2. FAQ ACCORDION
        function initializeFaqAccordion() {
            const faqToggles = document.querySelectorAll('[data-faq-toggle]');
            faqToggles.forEach(button => {
                button.addEventListener('click', () => {
                    const item = button.closest('.faq-item');
                    const isExpanded = button.getAttribute('aria-expanded') === 'true';
                    
                    // Close all others
                    faqToggles.forEach(otherButton => {
                        if (otherButton !== button) {
                            otherButton.setAttribute('aria-expanded', 'false');
                            otherButton.closest('.faq-item').querySelector('.faq-answer').style.maxHeight = '0';
                        }
                    });

                    // Toggle current
                    if (isExpanded) {
                        button.setAttribute('aria-expanded', 'false');
                        item.querySelector('.faq-answer').style.maxHeight = '0';
                    } else {
                        button.setAttribute('aria-expanded', 'true');
                        const answer = item.querySelector('.faq-answer');
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                    }
                });
            });
        }
        
        // 3. NAVBAR SCROLL HIDE/SHOW
        function initializeNavbarScroll() {
            const header = document.querySelector('header');
            let lastScrollY = window.scrollY;
            window.addEventListener('scroll', () => {
                const currentScrollY = window.scrollY;
                if (currentScrollY > lastScrollY && currentScrollY > 100) {
                    header.classList.add('nav-hidden');
                } else {
                    header.classList.remove('nav-hidden');
                }
                lastScrollY = currentScrollY;
            });
        }

        // 4. CONTENT SCROLL REVEAL ANIMATION
        function initializeScrollAnimations() {
            const animatedElements = document.querySelectorAll('.scroll-animate');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated');
                    } else if (entry.boundingClientRect.top > 0) {
                        entry.target.classList.remove('animated');
                    }
                });
            }, { rootMargin: '0px 0px -100px 0px', threshold: 0.1 });
            animatedElements.forEach(el => observer.observe(el));
        }

        // 5. NEW: INTERACTIVE 3D GLOBE BACKGROUND
        function initializeInteractiveBackground() {
            if (typeof THREE === 'undefined') {
                console.error("Three.js has not been loaded.");
                return;
            }

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const canvas = document.getElementById('interactive-background');
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            camera.position.set(0, 2.5, 4);

            // --- FOREGROUND GLOBE ---
            const globeGroup = new THREE.Group();
            globeGroup.rotation.x = -0.3;
            scene.add(globeGroup);

            const sphereGeometry = new THREE.SphereGeometry(2, 32, 32);
            const edgesGeometry = new THREE.EdgesGeometry(sphereGeometry);
            const wireframeMaterial = new THREE.LineBasicMaterial({ color: 0x444444 });
            const wireframe = new THREE.LineSegments(edgesGeometry, wireframeMaterial);
            globeGroup.add(wireframe);

            const particleGeometry = new THREE.BufferGeometry();
            const globeParticleCount = 2000;
            const globeParticlePositions = new Float32Array(globeParticleCount * 3);
            for (let i = 0; i < globeParticleCount; i++) {
                const i3 = i * 3;
                const phi = Math.acos(Math.random() * 1.5 - 0.5); 
                const theta = Math.random() * Math.PI * 2;
                const radius = 2.05;
                globeParticlePositions[i3] = radius * Math.sin(phi) * Math.cos(theta);
                globeParticlePositions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);
                globeParticlePositions[i3 + 2] = radius * Math.cos(phi);
            }
            particleGeometry.setAttribute('position', new THREE.BufferAttribute(globeParticlePositions, 3));
            const particleMaterial = new THREE.PointsMaterial({
                color: 0xFFAC00, size: 0.02, transparent: true,
                blending: THREE.AdditiveBlending, depthWrite: false,
            });
            const globeParticles = new THREE.Points(particleGeometry, particleMaterial);
            globeGroup.add(globeParticles);


            // --- NEW: BACKGROUND PLEXUS ---
            const plexusGroup = new THREE.Group();
            plexusGroup.position.z = -5; // Push it behind the globe
            scene.add(plexusGroup);

            const bgParticleCount = 300;
            const bgParticlesGeometry = new THREE.BufferGeometry();
            const bgParticlePositions = new Float32Array(bgParticleCount * 3);
            const bgParticleOriginalY = new Float32Array(bgParticleCount); // For wave animation

            for (let i = 0; i < bgParticleCount; i++) {
                const i3 = i * 3;
                bgParticlePositions[i3] = (Math.random() - 0.5) * 20; // x
                bgParticlePositions[i3 + 1] = (Math.random() - 0.5) * 10; // y
                bgParticlePositions[i3 + 2] = (Math.random() - 0.5) * 5;  // z
                bgParticleOriginalY[i] = bgParticlePositions[i3 + 1];
            }
            bgParticlesGeometry.setAttribute('position', new THREE.BufferAttribute(bgParticlePositions, 3));
            const bgParticleMaterial = new THREE.PointsMaterial({
                color: 0xAAAAAA, size: 0.05, transparent: true, opacity: 0.5
            });
            const bgParticles = new THREE.Points(bgParticlesGeometry, bgParticleMaterial);
            plexusGroup.add(bgParticles);
            
            // Lines for plexus
            const lineGeometry = new THREE.BufferGeometry();
            const lineMaterial = new THREE.LineBasicMaterial({
                color: 0x666666, transparent: true, opacity: 0.2
            });
            const linePositions = new Float32Array(bgParticleCount * bgParticleCount * 3);
            lineGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3));
            const lines = new THREE.LineSegments(lineGeometry, lineMaterial);
            plexusGroup.add(lines);

            // --- MOUSE INTERACTION ---
            let mouseX = 0;
            let mouseY = 0;
            function onMouseMove(event) {
                mouseX = (event.clientX - window.innerWidth / 2) * 0.0002;
                mouseY = (event.clientY - window.innerHeight / 2) * 0.0002;
            }
            document.addEventListener('mousemove', onMouseMove);

            // --- ANIMATION LOOP ---
            const clock = new THREE.Clock();
            function animate() {
                const elapsedTime = clock.getElapsedTime();

                // 1. Animate Globe
                globeGroup.rotation.y += 0.0005;

                // 2. Animate Background Plexus (Wave)
                const bgPositions = bgParticles.geometry.attributes.position.array;
                for (let i = 0; i < bgParticleCount; i++) {
                    const i3 = i * 3;
                    bgPositions[i3 + 1] = bgParticleOriginalY[i] + Math.sin(elapsedTime * 0.5 + bgPositions[i3] * 0.5) * 0.5;
                }
                bgParticles.geometry.attributes.position.needsUpdate = true;
                
                // 3. Update Plexus Lines
                const linePos = lines.geometry.attributes.position.array;
                let vertexpos = 0;
                for(let i = 0; i < bgParticleCount; i++) {
                    for(let j = i + 1; j < bgParticleCount; j++) {
                        const p1_i3 = i * 3;
                        const p2_i3 = j * 3;
                        const dx = bgPositions[p1_i3] - bgPositions[p2_i3];
                        const dy = bgPositions[p1_i3 + 1] - bgPositions[p2_i3 + 1];
                        const dz = bgPositions[p1_i3 + 2] - bgPositions[p2_i3 + 2];
                        const dist = Math.sqrt(dx*dx + dy*dy + dz*dz);
                        
                        if(dist < 1.5) {
                            linePos[vertexpos++] = bgPositions[p1_i3];
                            linePos[vertexpos++] = bgPositions[p1_i3 + 1];
                            linePos[vertexpos++] = bgPositions[p1_i3 + 2];
                            linePos[vertexpos++] = bgPositions[p2_i3];
                            linePos[vertexpos++] = bgPositions[p2_i3 + 1];
                            linePos[vertexpos++] = bgPositions[p2_i3 + 2];
                        }
                    }
                }
                lines.geometry.setDrawRange(0, vertexpos / 3);
                lines.geometry.attributes.position.needsUpdate = true;

                // 4. Handle Camera Parallax
                const baseCamY = 2.5;
                camera.position.x += (mouseX * 5 - camera.position.x) * 0.05;
                camera.position.y += (-mouseY * 5 - (camera.position.y - baseCamY)) * 0.05;
                camera.lookAt(scene.position);

                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            }
            animate();

            // Handle window resize
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            }
            window.addEventListener('resize', onWindowResize);
        }
    </script>
</body>
</html>
